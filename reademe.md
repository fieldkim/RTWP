# RTWP 프로젝트


## 맵 생성기
* 맵 데이터 생성기
  * noise와 파라메터를 지정하면 해당 맵이 나오는 API
  * 기존에 만들어진 맵 데이터와 마스크 맵 데이터는 ref 참조.
  * 아웃풋 역시 맵 데이터가 된다.
  * GetGeneratedMapData(MapData map, ref MasMapData maskMap, MapAlgorithm mapAlgorithm, List<string> parameters)
* 맵 데이터
  * 맵 데이터는 단순하게 타일들의 집합.
  * 마스크 맵 데이터
    * 특정 타일 집단은 이후 맵 데이터 이양으로 재 변경할 때 금지되어야 할 수도 있다. (스토리상의 방 같은 완제품)
	* 맵데이터와 같은 사이즈를 가진 1 or 0의 합산 데이터
  * MapData
    * Tile[,] tiles
	* MapRandomSeed (맵 이름으로도 이걸 활용)
* 타일 데이터
  * 바닥 분류
    * 바닥 유무는 분류 중 하나가 된다.
	* 바닥 분류는 생성되고 나면 그래픽/스토리텔링적인 의미만을 가지는 것을 초안으로 한다. (개발 과정에서 변화가 있을 수도 있다.
	* 각 바닥 분류마다 리소스 설정을 해야 한다. (리소스 설정 방식은 아직 어떻게 하는지 정확하게 모르므로 미정)
  * 타일에 있는 기물 (structure)
    * 벽면 타일은 기물에 '벽'이 있는 것이 된다.
	* 하나의 기물이 다중 개체에 걸쳐 있을 수 있다. 
	  * 이런 기물들을 공격/충돌 등등을 쉽게 처리하기 위해 해당되는 모든 타일에 '소속'된 것으로 취급한다. (모든 타일은 자신의 위에 하나의 기물을 가질 수가 있다.)
	  * 모든 기물은 하나의 타일 위치만 가진다. 하지만 해당 기물 스스로는 '중심타일' 위치에 있는 것으로 처리한다. (해당되는 타일 모두에 있는 것이 아님)
	    * 일관성 유지를 위한 처리. 만약 하나의 타일이 다수의 기물을 가질 수 있다거나 
	    * 이로 인해 중심점이 아니라 그냥 가장 가까운 기물을 찾기 위한 래핑 함수를 사용해야 할지도?
  * 타일의 거칠기 수준
    * 그래픽적인 양념인 동시에 게임플레이적으로도 써먹기 위해 지정한 사항이나 개발 초기에는 무시할 것.
	* 그래픽적인 표현 없이는 게임플레이적으로 써먹으면 곤란한 정보이며 기본적으로는 배제 가능한 모듈이다.
  * 타일에 있는 유닛(List)
    * 실제 게임이 진행되면 리스트 처리할 것. 하나의 유닛만 점유한다는 보장은 전혀 없다.
	* 맵 생성 시점에서는 이건 몬스터 스폰 포인트로 인식하면 된다.
  * 타일에 있는 아이템(List)
    * 타일에 존재하는 아이템은 타일 형태 그대로 존재한다.
* 기물 데이터
  * 기물 종류에 따라 다른 리소스를 사용한다.
  * 기물 분류는 무기와 
* 캡슐화 되는 것은 하나의 맵 데이터 생성 알고리즘이 아니라 그걸 여러개 묶어서 한 종류의 그럴싸한 맵 타입을 만드는 것 까지가 된다. (각 '스테이지'는 이것 하나씩이다.)
  * 실제로 각각의 스테이지는 요런 명령만 내린다. stageClass.CreateMap()
  * CreateMap() 는 여러개의 GetGeneratedMapData() 로 만들어진 데이터들을 주고 받는 것으로 이루어진다.

---
## 맵 랜더링
* 타일
  * 디폴트 큐브 (리소스 지정이 되지 않은 타일은 디폴트 큐브로 작동한다. 큐브 포지션은 0)
* 기물
  * 디폴트 큐브

